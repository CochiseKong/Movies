{"version":3,"sources":["pages/home/style.js","pages/home/components/List.js","pages/home/components/Recommend.js","pages/home/store/action.js","pages/home/components/Writer.js","pages/home/index.js"],"names":["HomeWrapper","styled","div","_templateObject","HomeLeft","_templateObject2","HomeRight","_templateObject3","ListItem","_templateObject4","ListInfo","_templateObject5","RecommendBanner","_templateObject6","props","imgUrl","RecommendCode","_templateObject7","WriterTop","_templateObject8","WriterList","_templateObject9","BackTop","_templateObject10","List","list","this","react_default","a","createElement","map","item","react_router_dom","key","get","to","className","src","alt","PureComponent","connect","state","getIn","Recommend","bannerUrl","index","GetList","dispatch","axios","then","res","data","success","type","fromJS","Writer","getWriterList","_this","_this$props","WriterListData","onClick","ref","icon","spinIcon","parseInt","Math","random","Home","handleToTop","window","scrollTo","addEventListener","changeScroll","removeEventListener","components_List","components_Recommend","components_Writer","showScroll","action","value","document","documentElement","scrollTop","withRouter"],"mappings":"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","file":"static/js/4.5dbad243.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const HomeWrapper = styled.div`\n  width: 960px;\n  margin: 0 auto;\n  overflow: hidden;\n`\nexport const HomeLeft = styled.div`\n  float: left;\n  width: 625px;\n  margin-left: 15px;\n  padding-top: 30px;\n  .banner-img {\n    width: 625px;\n    height: 270px;\n  }\n`\nexport const HomeRight = styled.div`\n  float: right;\n  width: 280px;\n  padding: 30px 0 0;\n`\nexport const ListItem = styled.div`\n  overflow: hidden;\n  padding: 20px 0;\n  border-bottom: 1px solid #dcdcdc;\n  .pic {\n    display: block;\n    width: 125px;\n    height: 100px;\n    float: right;\n    border-radius: 3px;\n  }\n`\nexport const ListInfo = styled.div`\n width: 500px;\n float: left;\n .title {\n    line-height: 27px;\n    font-size: 18px;\n    font-weight: bold;\n    overflow: hidden;\n    text-overflow:ellipsis;\n    white-space: nowrap;  \n    color: #333;\n }\n .desc {\n    line-height: 18px;\n    font-size: 13px;\n    color: #999;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 3;\n    overflow: hidden;\n }\n`\nexport const RecommendBanner = styled.div`\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-image: url(${(props)=> props.imgUrl });\n  min-height: 50px;\n  border-radius: 4px;\n  vertical-align: middle;\n  width: 280px;\n  margin-bottom: 6px;\n`\nexport const RecommendCode = styled.div`\n    cursor: pointer;\n    margin: 10px 0 30px;\n    padding: 10px 20px;\n    /* width: 100%; */\n    border: 1px solid #f0f0f0;\n    border-radius: 6px;\n    background-color: #fff;\n    overflow: hidden;\n    .code {\n      width: 60px;\n      height: 60px;\n      float: left;\n    }\n    .right {\n      float: right;\n      display: inline-block;\n      vertical-align: middle;\n      margin-left: 7px;\n      margin-top: 15px;\n      >h4{\n        font-size: 15px;\n        color: #333;\n      }\n      >p {\n        margin-top: 4px;\n        font-size: 13px;\n        color: #999;\n      }\n    }\n`\nexport const WriterTop = styled.div`\n  font-size: 14px;\n  color: #969696;\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 13px;\n  .left {\n    float: left;\n  }\n  .right {\n    float: right;\n    cursor: pointer;\n    .spin {\n        display: block;\n        float: left;\n        font-size: 14px;\n        margin-right: 2px;\n        transition: all .2s ease-in;\n        transform-origin: center center; \n    }\n  }\n`\nexport const WriterList = styled.div`\n  display: flex;\n  margin-bottom: 10px;\n  .img {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    margin-right: 15px;\n  }\n  .desc {\n    flex: 1;\n    line-height: 24px;\n    >h5 {\n      font-size: 14px;\n    }\n    >p {\n      margin-top: 2px;\n      font-size: 12px;\n      color: #969696;\n    }\n  }\n  .focus {\n    line-height: 48px;\n    padding: 0;\n    font-size: 14px;\n    color: #42c02e;\n    font-weight: 400;\n    cursor: pointer;\n  }\n`\nexport const BackTop = styled.div`\n  position:fixed;\n  right: 100px;\n  bottom: 100px;\n  width: 70px;\n  height: 70px;\n  line-height: 70px;\n  text-align: center;\n  font-size: 14px;\n  border-radius: 50%;\n  border: 1px solid #999;\n  cursor: pointer;\n`","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux'\nimport { ListItem, ListInfo } from \"../style\";\nimport { Link } from \"react-router-dom\";\n\nclass List extends PureComponent {\n  render() {\n\n    const { list } = this.props\n\n    return (\n      <div>\n        {\n          list.map((item) => {\n            return (\n              <Link key={item.get('id')} to={'/detail/'+ item.get('id')}>\n                <ListItem >\n                  <img className='pic' src={item.get('imgUrl')} alt='' />\n                  <ListInfo>\n                    <h3 className='title'>{item.get('title')}</h3>\n                    <p className='desc'>{item.get('desc')}</p>\n                  </ListInfo>\n                </ListItem>\n              </Link>\n            )\n          })\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapState = (state) => ({\n  list: state.getIn(['home', 'list'])\n})\n\nexport default connect(mapState)(List);","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux'\nimport { RecommendBanner,RecommendCode } from \"../style\";\n\n\nclass Recommend extends PureComponent {\n  render() {\n    const {bannerUrl} = this.props\n    return (\n      <div>\n        {\n          bannerUrl.map((item,index)=>{\n            return (\n              <RecommendBanner key={index} imgUrl={item} />\n            )\n          })\n        }\n\n      <RecommendCode>\n        <img className='code' src=\"//cdn2.jianshu.io/assets/web/download-index-side-qrcode-cb13fc9106a478795f8d10f9f632fccf.png\" alt=\"\"/>\n        <div className=\"right\">\n          <h4 >下载简书APP</h4>\n          <p >随时随地发现和创作内容</p>\n        </div>\n      </RecommendCode>\n\n      </div>\n    );\n  }\n}\n\nconst mapState = (state) => ({\n  bannerUrl: state.getIn(['home','bannerUrl'])\n})\n\nexport default connect(mapState)(Recommend);","import { fromJS } from \"immutable\";  //确保源sotre不被修改\nimport axios from \"axios\"; //ajax通讯\n\nconst changeList = (data) => ({\n    type: 'get_writer_list',\n    data: fromJS(data),\n})\n\nexport const GetList = () => {\n    return (dispatch) => {\n        axios.get('https://www.easy-mock.com/mock/5ce4973e45fff35246fea95e/jianshu/writerList').then((res)=>{\n            if ( res.data.success ) {\n                dispatch(changeList(res.data.data))\n            }\n        })\n    }\n}\n\n","import React, { PureComponent } from 'react';   //PureComponent  自动判断redux改变是否需要更新当前组件\nimport { connect } from \"react-redux\";\nimport { WriterTop, WriterList } from \"../style\";\nimport { GetList } from \"../store/action\";\n\nclass Writer extends PureComponent {\n  componentDidMount() {\n    this.props.getWriterList()\n  }\n  render() {\n    const { getWriterList, WriterListData } = this.props\n    return (\n      <div>\n        <WriterTop>\n          <span className='left'>推荐作者</span>\n          <span onClick={ getWriterList } className='right'><span ref={(icon) => { this.spinIcon = icon }} className=\"iconfont spin\">&#xe851;</span>换一批</span>\n        </WriterTop>\n\n        {\n          WriterListData.map((item) => {\n            return (\n              <WriterList key={item.get('id')}>\n                <img className='img' src={item.get('url').get(parseInt(10*Math.random()))} alt='' />\n                <div className='desc'>\n                  <h5>{item.get('name')}</h5>\n                  <p>写了{item.get('text')}k字 {item.get('live')}k喜欢</p>\n                </div>\n                <div className='focus'>+关注</div>\n              </WriterList>\n            )\n          })\n        }\n\n      </div>\n    );\n  }\n}\n\nconst mapState = (state) => {\n  return {\n    WriterListData: state.getIn(['home', 'WriterListData'])\n  }\n}\n\nconst mapDispatch = (dispatch) => {\n  return {\n    getWriterList() {\n      dispatch(GetList())\n    }\n  }\n}\n\nexport default connect(mapState, mapDispatch)(Writer);\n","import React, { PureComponent } from 'react';\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { HomeWrapper,HomeLeft, HomeRight, BackTop } from \"./style\";\nimport List from './components/List';\nimport Recommend from './components/Recommend';\nimport Writer from './components/Writer';\n\nclass Home extends PureComponent {\n\n  componentDidMount() {\n    window.addEventListener('scroll',this.props.changeScroll)\n  }\n  componentWillUnmount() {\n    window.removeEventListener('scroll',this.props.changeScroll)\n  }\n  \n\n  handleToTop = () => {\n    window.scrollTo(0,0)\n  }\n\n  render() {\n    return (\n      <div>\n        <HomeWrapper>\n        <HomeLeft>\n          <img className='banner-img' src=\"//upload.jianshu.io/admin_banners/web_images/4660/224da83c76e01d5deff07e163615921233af5c82.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\" alt=\"540\"/>\n          <List />\n        </HomeLeft>\n        <HomeRight>\n          <Recommend />\n          <Writer />\n        </HomeRight>\n        {\n          this.props.showScroll ? <BackTop onClick={this.handleToTop}>返回顶部</BackTop> : null\n        }\n        </HomeWrapper>\n      </div>\n    );\n  }\n}\n\nconst mapState = (state) => ({\n  showScroll: state.getIn(['home','showScroll'])\n})\n\nconst mapDispacth = (dispatch)=> ({\n  changeScroll() {\n\n    let action = {\n        type: 'scroll_action',\n        value: false   \n    }\n\n    document.documentElement.scrollTop>=400 ? action.value=true : action.value=false\n    dispatch(action)\n\n  }\n})\n\nexport default connect(mapState,mapDispacth)(withRouter(Home));"],"sourceRoot":""}